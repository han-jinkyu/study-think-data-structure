# 14. 영속성

## 레디스
- 자료구조는 실행 중인 자바 프로그램의 메모리에 저장되는데 프로그램이 멈추면 전부 사라진다. 이를 `휘발성(volatile)`이라 한다.
- 데이터를 생성한 프로그램이 종료되어도 지속되는 데이터를 `영속적(persistence)`라고 한다. 파일 시스템에 저장된 파일이나 데이터베이스에 저장된 데이터 등이 그러하다.

- 데이터를 영속적으로 만드는 가장 간단한 방법은 프로그램이 종료되기 전에 자료구조를 변환하여 파일에 저장하는 것이다. 그리고 프로그램이 재시작되면 다시 불러들여 재구성한다. 하지만 이 방법에는 몇 가지 문제점이 있다.
    1. 대량의 자료구조를 읽고 쓰면 느려진다.
    2. 전체 자료구조는 단일 실행 프로그램의 메모리에 다 들어가지 않는다.
    3. 프로그램이 비정상적으로 종료되면 마지막으로 실행된 이후의 데이터가 사라진다.
- 이보다 나은 대안으로 데이터베이스를 활용하는 것이다.

- Redis는 자바 자료구조와 유사한 자료구조를 제공한다.
    - 자바 List와 유사한 `문자열 리스트`
    - 자바 Map과 유사한 `해시`
    - 자바 Set과 유사한 `문자열 집합`
 
    
## 레디스 클라이언트와 서버
- 책에서는 [레디스투고(RedisToGo)](https://redistogo.com)를 이용하였으나 나는 [Docker](https://hub.docker.com/_/redis/)를 이용하여 사용하기로 하였다.

```shell
# Redis 실행 (없다면 설치 함)
$ docker run --name my-redis -p 6379:6379 -d redis

# 잘 실행되었는지 확인
$ docker ps
```

---
[Home](../README.md)
